const mongoose = require("mongoose");

const user = new mongoose.Schema({
    username: {
        type:String,
        required :true,
        unique:true,
    },

    email: {
        type:String,
        required :true,
        unique:true,
    },

    password: {
        type:String,
        required :true,
    },

    address: {
        type:String,
        required :true,
    },
    avatar: {
        type:String,
       default:"data:image/jpeg;base64,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"
    },
    role:{
        type:String,
        default:"user",
        enum: ["user","admin"],
    },
    favourites:[{ type:mongoose.Types.ObjectId,
        ref:"Book",
    },
],
cart:[
    { type:mongoose.Types.ObjectId,
    ref:"Book",
},
],

orders:[
    { type:mongoose.Types.ObjectId,
    ref:"order",
},
],
},
{
    timestamps:true }
);
module.exports = mongoose.model("user", user);